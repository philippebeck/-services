import*as constants from"@/script/constants";const axios=require("axios");function setAxios(){axios.defaults.baseURL=constants.API_URL,axios.defaults.headers.post["Content-Type"]=constants.CONTENT_TYPE,constants.TOKEN&&(axios.defaults.headers.common.Authorization="Bearer "+constants.TOKEN)}async function getData(t){return setAxios(),(await axios.get(t)).data}async function postData(t,a){return setAxios(),(await axios.post(t,a)).data}async function patchData(t,a){return setAxios(),(await axios.patch(t,a)).data}async function putData(t,a){return setAxios(),(await axios.put(t,a)).data}async function deleteData(t){return setAxios(),(await axios.delete(t)).data}function checkEmpty(t){if(""===t)return alert(constants.ALERT_EMPTY),!1}function checkName(t){if(!0!==constants.REGEX_NAME.test(t))return alert(constants.ALERT_NAME),!1}function checkUrl(t){if(!0!==constants.REGEX_URL.test(t))return alert(constants.ALERT_URL),!1}function checkEmail(t){if(!0!==constants.REGEX_EMAIL.test(t))return alert(constants.ALERT_EMAIL),!1}function checkPass(t){if(!0!==constants.REGEX_PASS.test(t))return alert(constants.ALERT_PASS),!1}function checkString(t,a){switch(checkEmpty(t),a){case"name":checkName(t);break;case"url":checkUrl(t);break;case"email":checkEmail(t);break;case"pass":checkPass(t);break;default:return alert(constants.ALERT_UNKNOWN),!1}return!0}function rewriteString(t,a){switch(a){case"name":t=t.trim().charAt(0).toUpperCase()+t.trim().slice(1);break;case"email":t=t.trim().toLowerCase();break;case"url":t=t.trim().toLowerCase().replace(constants.REWRITE_URL,"");break;default:t=t.trim()}return t}export{getData,postData,patchData,putData,deleteData,checkString,rewriteString};