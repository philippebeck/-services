"use strict";function checkError(e){e.response?alert(e.response.data.message):console.log(e)}function checkId(e,t){for(var r of t)if(r===e)return!0;return!1}function checkRange(e,t,r=2,o=50){switch(typeof e){case"number":if(r<=e&&e<=o)return!0;break;case"string":if(e.length>=r&&e.length<=o)return!0;break;default:return alert(t+` ${r} & `+o),!1}}function checkRegex(e,t,r){return!!r.test(e)||(alert(t),!1)}function checkRole(e,t){let r=null;switch(e){case"admin":r=!0;break;case"editor":r="admin"!==t;break;case"user":r="user"===t;break;default:r=!1}return r}async function fetchGet(e){let t;var r=await fetch(e);if(!r.ok)throw new Error(r.text());switch(r.headers.get("Content-Type").split(";")[0]){case"application/json":t=await r.json();break;case"multipart/form-data":t=await r.formData();break;case"text/html":case"text/plain":t=await r.text();break;default:t=r.body}return t}async function fetchSet(e,t){e=await fetch(e,t);if(e.ok)return e.json();throw new Error(e.text())}function getAverage(e,t){var r,o,n,c={},u=[];for(r of t)c[r.product]?(c[r.product].sum+=r.score,c[r.product].n++):c[r.product]={sum:r.score,n:1};for(o of Object.keys(c))u.push({product:o,score:c[o].sum/c[o].n});for(n of u)if(e===n.product)return n.score}function getCats(e){var t,r=new Set;for(t of e)r.add(t.cat);return Array.from(r)}function getItemName(e,t){for(var r of t)if(r._id===e)return r.name;return!1}function getItemsByCat(e){var t,r={};for(t of e)r[t.cat]||(r[t.cat]=[]),r[t.cat].push(t),r[t.cat].sort((e,t)=>e.name>t.name?1:-1);return r}function setDescription(e){document.querySelector('[name="description"]').setAttribute("content",e),document.querySelector('[property="og:description"]')&&document.querySelector('[property="og:description"]').setAttribute("content",e),document.querySelector('[name="twitter:description"]')&&document.querySelector('[name="twitter:description"]').setAttribute("content",e)}function setGlobalMeta(e,t="img/favicon.ico",r="en"){document.querySelector("html").setAttribute("lang",r),document.querySelector('[rel="icon"]').setAttribute("href",t),document.querySelector('[name="twitter:creator"]')&&document.querySelector('[name="twitter:creator"]').setAttribute("content",e)}function setImage(e){document.querySelector('[property="og:image"]')&&document.querySelector('[property="og:image"]').setAttribute("content",e),document.querySelector('[name="twitter:image"]')&&document.querySelector('[name="twitter:image"]').setAttribute("content",e)}function setMeta(e,t,r,o=""){setTitle(e),setDescription(t),setUrl(r),""!==o&&setImage(o)}function setTitle(e){document.querySelector("title").textContent=e,document.querySelector('[property="og:title"]')&&document.querySelector('[property="og:title"]').setAttribute("content",e),document.querySelector('[name="twitter:title"]')&&document.querySelector('[name="twitter:title"]').setAttribute("content",e)}function setUrl(e){document.querySelector('[rel="canonical"]').setAttribute("href",e),document.querySelector('[property="og:url"]')&&document.querySelector('[property="og:url"]').setAttribute("content",e),document.querySelector('[name="twitter:site"]')&&document.querySelector('[name="twitter:site"]').setAttribute("content",e)}export{checkError,checkId,checkRange,checkRegex,checkRole,fetchGet,fetchSet,getAverage,getCats,getItemName,getItemsByCat,setDescription,setGlobalMeta,setImage,setMeta,setTitle,setUrl};