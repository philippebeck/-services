"use strict";function checkRange(e,t,r=2,n=50){e="number"==typeof e&&r<=e&&e<=n||"string"==typeof e&&e.length>=r&&e.length<=n;return e||alert(t+` ${r} & `+n),e}function checkRegex(e,t,r){return!!r.test(e)||(alert(t),!1)}function checkRole(e,t){return"admin"===e||("editor"===e?"admin"!==t:"user"===e&&"user"===t)}async function fetchGet(e){var t=await fetch(e);if(!t.ok)throw new Error(await t.text());switch(t.headers.get("Content-Type").split(";")[0]){case"application/json":return t.json();case"multipart/form-data":return t.formData();case"text/html":case"text/plain":return t.text();default:return t.body}}async function fetchSet(e,t){e=await fetch(e,t);if(e.ok)return e.json();throw new Error(await e.text())}function getAverage(e,t){var r={};for(const i of t){var{product:n,score:o}=i;r[n]||(r[n]={sum:0,n:0}),r[n].sum+=o,r[n].n++}for(const u in r){var{sum:c,n:a}=r[u];r[u]=c/a}return r[e]}function getCats(e){return[...new Set(e.map(e=>e.cat))]}function getItemName(t,e){e=e.find(e=>e._id===t);return!!e&&e.name}function getItemsByCat(e){var t={};for(const n of e){var r=n.cat;t[r]||(t[r]=[]),t[r].push(n)}for(const o in t)t[o].sort((e,t)=>e.name.localeCompare(t.name));return t}function setError(e){console.error((e.response?e.response.data:e).message)}function setGlobalMeta(e,t="img/favicon.ico",r="en"){var n=document.querySelector('[rel="icon"]'),o=document.querySelector('[name="twitter:creator"]');document.documentElement.lang=r,n&&(n.href=t),o&&(void 0===e?o.remove():o.content=e)}function setMeta(t,r,n,o=""){document.querySelector("title").innerText=t,document.querySelector('[rel="canonical"]').href=n,document.querySelectorAll('[property="og:title"], [name="twitter:title"]').forEach(e=>e.setAttribute("content",t)),document.querySelectorAll('[name="description"], [property="og:description"], [name="twitter:description"]').forEach(e=>e.setAttribute("content",r)),document.querySelectorAll('[property="og:url"], [name="twitter:site"]').forEach(e=>e.setAttribute("content",n)),""!==o&&document.querySelectorAll('[property="og:image"], [name="twitter:image"]').forEach(e=>e.setAttribute("content",o))}export{checkRange,checkRegex,checkRole,fetchGet,fetchSet,getAverage,getCats,getItemName,getItemsByCat,setError,setGlobalMeta,setMeta};